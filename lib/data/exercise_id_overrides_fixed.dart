/// =============================================================================
/// EXERCISE ID OVERRIDES - SAFE VERSION WITH GIF-FIRST CHECK
/// =============================================================================
/// DROP-IN REPLACEMENT for lib/data/exercise_id_overrides_fixed.dart
///
/// KEY CHANGE: getOverriddenId() now checks ExerciseGifMapping FIRST.
/// If the ID already exists as a GIF key, it returns it untouched.
/// Overrides ONLY apply to IDs that are NOT in the GIF mapping.
///
/// This means:
/// - Manual mode exercises (whose IDs ARE GIF keys) ALWAYS work
/// - Auto/AI mode exercises get mapped to the correct GIF key
/// - No override can ever BREAK a working manual exercise
/// =============================================================================

import 'exercise_gif_mapping.dart';

class ExerciseIdOverridesFix {
  /// Overrides ONLY for auto/AI exercise IDs that don't exist in GIF mapping.
  /// Manual exercise IDs are NEVER in this map - they don't need to be.
  static const Map<String, String> overrides = {
    // ═══════════════════════════════════════════════════════════════════════
    // CHEST - Auto exercise IDs → GIF keys
    // ═══════════════════════════════════════════════════════════════════════
    'bench_press': 'barbell_bench_press',
    'incline_press': 'barbell_incline_bench_press',
    'incline_bench_press': 'barbell_incline_bench_press',
    'incline_db_press': 'dumbbell_incline_bench_press',
    'incline_dumbbell_press': 'dumbbell_incline_bench_press',
    'incline_barbell_press': 'barbell_incline_bench_press',
    'decline_press': 'barbell_decline_bench_press',
    'decline_bench_press': 'barbell_decline_bench_press',
    'decline_dumbbell_press': 'dumbbell_decline_bench_press',
    'decline_barbell_press': 'barbell_decline_bench_press',
    'dumbbell_press': 'dumbbell_bench_press',
    'chest_fly': 'dumbbell_fly',
    'chest_flys': 'dumbbell_fly',
    'chest_flyes': 'dumbbell_fly',
    'dumbbell_flyes': 'dumbbell_fly',
    'dumbbell_flys': 'dumbbell_fly',
    'dumbbell_chest_fly': 'dumbbell_fly',
    'cable_chest_fly': 'cable_standing_fly',
    'cable_flys': 'cable_standing_fly',
    'cable_flyes': 'cable_standing_fly',
    'cable_flye': 'cable_standing_fly',
    'machine_fly': 'lever_pec_deck_fly',
    'machine_chest_fly': 'lever_pec_deck_fly',
    'pec_deck': 'lever_pec_deck_fly',
    'incline_fly': 'dumbbell_incline_fly',
    'incline_flys': 'dumbbell_incline_fly',
    'pushup': 'push_up_m',
    'pushups': 'push_up_m',
    'push_up': 'push_up_m',
    'push_ups': 'push_up_m',
    'incline_push_up': 'push_up_m',
    'incline_push_ups': 'push_up_m',
    'incline_pushup': 'push_up_m',
    'incline_pushups': 'push_up_m',
    'wall_push_up': 'push_up_m',
    'decline_push_up': 'push_up_m',
    'decline_pushup': 'push_up_m',
    'decline_pushups': 'push_up_m',
    'wide_pushup': 'wide_hand_push_up',
    'wide_pushups': 'wide_hand_push_up',
    'diamond_pushup': 'close_grip_push_up',
    'diamond_pushups': 'close_grip_push_up',
    'diamond_push_up': 'close_grip_push_up',
    'diamond_push_ups': 'close_grip_push_up',
    'close_grip_pushup': 'close_grip_push_up',
    'close_grip_pushups': 'close_grip_push_up',
    'close_grip_push_ups': 'close_grip_push_up',
    'pike_push_up': 'push_up_m',
    'pike_pushup': 'push_up_m',
    'pike_pushups': 'push_up_m',
    'pike_push_ups': 'push_up_m',
    'archer_pushup': 'push_up_m',
    'archer_push_up': 'push_up_m',
    'clap_pushup': 'push_up_m',
    'plank_to_pushup': 'push_up_m',
    'dips': 'chest_dip',
    'dips_chest': 'chest_dip',
    'chest_dips': 'chest_dip',
    'cable_crossover': 'cable_crossover_variation',
    'cable_crossovers': 'cable_crossover_variation',
    'landmine_press': 'barbell_incline_bench_press',
    'close_grip_bench': 'barbell_close_grip_bench_press',
    'close_grip_bench_press': 'barbell_close_grip_bench_press',
    'jm_press': 'barbell_lying_close_grip_press',
    'machine_chest_press': 'lever_chest_press',

    // ═══════════════════════════════════════════════════════════════════════
    // BACK - Auto exercise IDs → GIF keys
    // ═══════════════════════════════════════════════════════════════════════
    'deadlift': 'barbell_deadlift',
    'deadlifts': 'barbell_deadlift',
    'rack_pull': 'barbell_deadlift',
    'conventional_deadlift': 'barbell_deadlift',
    'deficit_deadlift': 'barbell_deadlift',
    'bent_rows': 'barbell_bent_over_row',
    'bent_over_row': 'barbell_bent_over_row',
    'bent_over_rows': 'barbell_bent_over_row',
    'barbell_row': 'barbell_bent_over_row',
    'barbell_rows': 'barbell_bent_over_row',
    'pullup': 'pull_up',
    'pullups': 'pull_up',
    'pull_ups': 'pull_up',
    'assisted_pull_up': 'pull_up',
    'weighted_pull_up': 'pull_up',
    'wide_grip_pullup': 'wide_grip_pull_up',
    'close_grip_pullup': 'pull_up_neutral_grip',
    'neutral_grip_pullup': 'pull_up_neutral_grip',
    'muscle_up': 'pull_up',
    'chin_ups': 'chin_up',
    'chinup': 'chin_up',
    'chinups': 'chin_up',
    'lat_pulldown': 'cable_bar_lateral_pulldown',
    'lat_pulldowns': 'cable_bar_lateral_pulldown',
    'neutral_grip_lat_pulldown': 'twin_handle_parallel_grip_lat_pulldown',
    'cable_pulldown': 'cable_pulldown',
    'straight_arm_pulldown': 'cable_pulldown',
    'cable_row': 'cable_seated_row',
    'cable_rows': 'cable_seated_row',
    'seated_cable_row': 'cable_seated_row',
    'seated_cable_rows': 'cable_seated_row',
    'seated_row': 'cable_seated_row',
    'seated_rows': 'cable_seated_row',
    'dumbbell_row': 'dumbbell_bent_over_row',
    'dumbbell_rows': 'dumbbell_bent_over_row',
    'single_arm_db_row': 'dumbbell_one_arm_row_rack_support',
    'one_arm_row': 'dumbbell_one_arm_row_rack_support',
    'machine_row': 'lever_seated_row',
    'chest_supported_row': 'barbell_incline_row',
    'tbar_row': 'lever_t_bar_row_plate_loaded',
    'tbar_rows': 'lever_t_bar_row_plate_loaded',
    't_bar_row': 'lever_t_bar_row_plate_loaded',
    't_bar_rows': 'lever_t_bar_row_plate_loaded',
    'pendlay_row': 'barbell_bent_over_row',
    'pendlay_rows': 'barbell_bent_over_row',
    'inverted_rows': 'inverted_row',
    'renegade_row': 'dumbbell_bent_over_row',
    'renegade_rows': 'dumbbell_bent_over_row',
    'row': 'barbell_bent_over_row',
    'rows': 'barbell_bent_over_row',
    'face_pull': 'cable_cross_over_revers_fly',
    'face_pulls': 'cable_cross_over_revers_fly',
    'reverse_fly': 'dumbbell_rear_fly',
    'reverse_flys': 'dumbbell_rear_fly',
    'reverse_flyes': 'dumbbell_rear_fly',
    'rear_delt_fly': 'dumbbell_rear_fly',
    'rear_delt_flys': 'dumbbell_rear_fly',
    'reverse_pec_deck': 'lever_seated_reverse_fly',
    'shrug': 'barbell_shrug',
    'shrugs': 'barbell_shrug',
    'barbell_shrugs': 'barbell_shrug',
    'dumbbell_shrugs': 'dumbbell_shrug',
    'upright_row': 'barbell_upright_row',
    'upright_rows': 'barbell_upright_row',
    'cable_pullthrough': 'cable_pull_through',

    // ═══════════════════════════════════════════════════════════════════════
    // SHOULDERS - Auto exercise IDs → GIF keys
    // ═══════════════════════════════════════════════════════════════════════
    'overhead_press': 'barbell_standing_military_press',
    'ohp': 'barbell_standing_military_press',
    'standing_ohp': 'barbell_standing_military_press',
    'military_press': 'barbell_standing_military_press',
    'barbell_overhead_press': 'barbell_standing_military_press',
    'push_press': 'barbell_standing_military_press',
    'shoulder_press': 'dumbbell_seated_shoulder_press',
    'seated_db_press': 'dumbbell_seated_shoulder_press',
    'seated_dumbbell_press': 'dumbbell_seated_shoulder_press',
    'seated_shoulder_press': 'dumbbell_seated_shoulder_press',
    'dumbbell_shoulder_press': 'dumbbell_seated_shoulder_press',
    'standing_dumbbell_press': 'dumbbell_arnold_press',
    'db_overhead_press': 'dumbbell_arnold_press',
    'machine_shoulder_press': 'lever_seated_shoulder_press',
    'arnold_press': 'dumbbell_arnold_press',
    'lateral_raise': 'dumbbell_lateral_raise',
    'lateral_raises': 'dumbbell_lateral_raise',
    'leaning_lateral_raise': 'dumbbell_lateral_raise',
    'front_raise': 'dumbbell_front_raise',
    'front_raises': 'dumbbell_front_raise',
    'plate_front_raise': 'barbell_front_raise',
    'cable_lateral_raises': 'cable_lateral_raise',

    // ═══════════════════════════════════════════════════════════════════════
    // LEGS - Auto exercise IDs → GIF keys
    // ═══════════════════════════════════════════════════════════════════════
    'squat': 'barbell_full_squat',
    'squats': 'barbell_full_squat',
    'barbell_squat': 'barbell_full_squat',
    'barbell_back_squat': 'barbell_full_squat',
    'back_squat': 'barbell_full_squat',
    'squats_bw': 'squat_m',
    'bodyweight_squat': 'squat_m',
    'bodyweight_squats': 'squat_m',
    'air_squat': 'squat_m',
    'air_squats': 'squat_m',
    'goblet_squat': 'dumbbell_goblet_squat',
    'goblet_squats': 'dumbbell_goblet_squat',
    'sumo_squat': 'barbell_sumo_deadlift',
    'sumo_squats': 'barbell_sumo_deadlift',
    'sumo_squat_pulse': 'barbell_sumo_deadlift',
    'sumo_squat_hold_pulse': 'barbell_sumo_deadlift',
    'sumo_squat_bw': 'squat_m',
    'zercher_squat': 'barbell_full_zercher_squat',
    'overhead_squat': 'barbell_full_squat',
    'hack_squat': 'lever_chair_squat',
    'sissy_squat': 'squat_m',
    'spanish_squat': 'squat_m',
    'squat_pulse': 'squat_m',
    'squat_press': 'barbell_full_squat',
    'barbell_squat_press': 'barbell_full_squat',
    'thruster': 'barbell_full_squat',
    'thrusters': 'barbell_full_squat',
    'squat_reach': 'squat_m',
    'squat_to_kickback': 'squat_m',
    'pistol_squat': 'barbell_one_leg_squat',
    'banded_squat': 'squat_m',
    'front_squat': 'barbell_front_squat',
    'lunge': 'dumbbell_lunge',
    'lunges': 'dumbbell_lunge',
    'walking_lunge': 'walking_lunge_male',
    'walking_lunges': 'walking_lunge_male',
    'reverse_lunge': 'barbell_rear_lunge',
    'reverse_lunges': 'barbell_rear_lunge',
    'static_lunge': 'dumbbell_lunge',
    'deficit_reverse_lunge': 'barbell_rear_lunge',
    'curtsy_lunge': 'dumbbell_lunge',
    'curtsy_lunges': 'dumbbell_lunge',
    'pulse_curtsy_lunge': 'dumbbell_lunge',
    'lateral_lunge': 'barbell_side_split_squat_ii',
    'lateral_lunges': 'barbell_side_split_squat_ii',
    'split_squat': 'dumbbell_single_leg_split_squat',
    'split_squats': 'dumbbell_single_leg_split_squat',
    'bulgarian_split': 'dumbbell_single_leg_split_squat',
    'bulgarian_split_squat': 'dumbbell_single_leg_split_squat',
    'bulgarian_split_squats': 'dumbbell_single_leg_split_squat',
    'bulgarian_split_squat_bw': 'dumbbell_single_leg_split_squat',
    'step_up': 'dumbbell_step_up',
    'step_ups': 'dumbbell_step_up',
    'stepups_chair': 'dumbbell_step_up',
    'box_stepups': 'dumbbell_step_up',
    'box_step_up': 'dumbbell_step_up',
    'leg_press': 'lever_seated_leg_press',
    'leg_press_high': 'lever_seated_leg_press',
    'leg_extension': 'lever_leg_extension',
    'leg_extensions': 'lever_leg_extension',
    'leg_curl': 'lever_lying_leg_curl',
    'leg_curls': 'lever_lying_leg_curl',
    'hamstring_curl': 'lever_lying_leg_curl',
    'hamstring_curls': 'lever_lying_leg_curl',
    'lying_leg_curl': 'lever_lying_leg_curl',
    'seated_leg_curl': 'lever_seated_leg_curl',
    'nordic_curl': 'inverse_leg_curl_on_pull_up_cable_machine',
    'nordic_curls': 'inverse_leg_curl_on_pull_up_cable_machine',
    'calf_raise': 'lever_standing_calf_raise',
    'calf_raises': 'lever_standing_calf_raise',
    'standing_calf_raise': 'lever_standing_calf_raise',
    'standing_calf_raises': 'lever_standing_calf_raise',
    'seated_calf_raise': 'lever_seated_calf_raise_plate_loaded',
    'seated_calf_raises': 'lever_seated_calf_raise_plate_loaded',
    'donkey_calf_raise': 'lever_standing_calf_raise',
    'single_leg_calf_raise': 'bodyweight_standing_calf_raise',

    // ═══════════════════════════════════════════════════════════════════════
    // HINGE - Auto exercise IDs → GIF keys
    // ═══════════════════════════════════════════════════════════════════════
    'romanian_deadlift': 'barbell_romanian_deadlift',
    'romanian_deadlifts': 'barbell_romanian_deadlift',
    'rdl': 'barbell_romanian_deadlift',
    'dumbbell_rdl': 'dumbbell_romanian_deadlift',
    'stiff_leg_deadlift': 'barbell_straight_leg_deadlift',
    'stiff_leg_deadlifts': 'barbell_straight_leg_deadlift',
    'sumo_deadlift': 'barbell_sumo_deadlift',
    'sumo_deadlifts': 'barbell_sumo_deadlift',
    'single_leg_deadlift': 'dumbbell_stiff_leg_deadlift',
    'single_leg_deadlifts': 'dumbbell_stiff_leg_deadlift',
    'single_leg_rdl': 'dumbbell_stiff_leg_deadlift',
    'single_leg_rdl_pulse': 'dumbbell_stiff_leg_deadlift',
    'good_morning': 'barbell_good_morning',
    'good_mornings': 'barbell_good_morning',
    'kettlebell_swing': 'barbell_deadlift',
    'kettlebell_swings': 'barbell_deadlift',
    'kb_swing': 'barbell_deadlift',
    'russian_swing': 'barbell_deadlift',
    'american_swing': 'barbell_deadlift',
    'pull_through': 'cable_pull_through',
    'back_extension': 'hyperextension',
    'back_extensions': 'hyperextension',
    'hyperextensions': 'hyperextension',
    'reverse_hyper': 'reverse_hyper_on_flat_bench',
    'hip_thrust': 'hip_thrusts',
    'barbell_hip_thrust': 'barbell_hip_thrust',
    'glute_bridge': 'hip_thrusts',
    'glute_bridges': 'hip_thrusts',
    'single_leg_glute_bridge': 'hip_thrusts',
    'elevated_glute_bridge': 'hip_thrusts',
    'banded_glute_bridge': 'hip_thrusts',
    'glute_bridge_single': 'hip_thrusts',
    'glute_bridge_hold': 'hip_thrusts',
    'frog_pump': 'hip_thrusts',
    'frog_pumps': 'hip_thrusts',
    'frog_pump_pulse': 'hip_thrusts',
    'frog_pump_hold_pulse': 'hip_thrusts',
    'standing_glute_squeeze': 'hip_thrusts',
    'glute_kickback': 'cable_kickback',
    'glute_kickbacks': 'cable_kickback',
    'standing_glute_kickback': 'cable_kickback',
    'donkey_kick': 'lever_standing_rear_kick',
    'donkey_kicks': 'lever_standing_rear_kick',
    'donkey_kick_pulse': 'lever_standing_rear_kick',
    'donkey_kick_pulses': 'lever_standing_rear_kick',
    'donkey_kicks_cable': 'cable_kickback',
    'fire_hydrant': 'lever_seated_hip_abduction',
    'fire_hydrants': 'lever_seated_hip_abduction',
    'banded_fire_hydrant': 'lever_seated_hip_abduction',
    'fire_hydrant_pulse': 'lever_seated_hip_abduction',
    'banded_kickback': 'lever_standing_hip_extension',
    'banded_clamshell': 'lever_seated_hip_abduction',
    'banded_lateral_walk': 'lever_seated_hip_abduction',
    'side_lying_leg_lift': 'lever_seated_hip_abduction',
    'side_lying_leg_raise': 'lever_seated_hip_abduction',
    'quadruped_hip_extension': 'lever_standing_hip_extension',
    'quadruped_hip_extension_pulse': 'lever_standing_hip_extension',
    'clamshell': 'lever_seated_hip_abduction',

    // ═══════════════════════════════════════════════════════════════════════
    // BICEPS - Auto exercise IDs → GIF keys
    // ═══════════════════════════════════════════════════════════════════════
    'curl': 'barbell_curl',
    'curls': 'barbell_curl',
    'bicep_curl': 'dumbbell_standing_biceps_curl',
    'bicep_curls': 'dumbbell_standing_biceps_curl',
    'barbell_bicep_curl': 'barbell_curl',
    'barbell_curls': 'barbell_curl',
    'dumbbell_curl': 'dumbbell_biceps_curl',
    'dumbbell_curls': 'dumbbell_biceps_curl',
    'dumbbell_bicep_curl': 'dumbbell_biceps_curl',
    'hammer_curl': 'dumbbell_hammer_curl',
    'hammer_curls': 'dumbbell_hammer_curl',
    'standing_hammer_curl': 'dumbbell_hammer_curl',
    'seated_hammer_curl': 'dumbbell_hammer_curl',
    'cross_body_hammer_curl': 'dumbbell_cross_body_hammer_curl',
    'preacher_curl': 'barbell_preacher_curl',
    'preacher_curls': 'barbell_preacher_curl',
    'preacher_curl_machine': 'lever_preacher_curl',
    'concentration_curl': 'dumbbell_concentration_curl',
    'concentration_curls': 'dumbbell_concentration_curl',
    'cable_curls': 'cable_curl_male',
    'cable_bicep_curl': 'cable_curl_male',
    'incline_curl': 'dumbbell_incline_inner_biceps_curl',
    'incline_curls': 'dumbbell_incline_inner_biceps_curl',
    'incline_dumbbell_curl': 'dumbbell_incline_inner_biceps_curl',
    'spider_curl': 'ez_barbell_curl',
    'spider_curls': 'ez_barbell_curl',
    'ez_bar_curl': 'ez_barbell_curl',
    'ez_bar_curls': 'ez_barbell_curl',
    '21s_curl': 'barbell_curl',
    '21s': 'barbell_curl',
    'reverse_curl': 'barbell_reverse_curl',
    'reverse_curls': 'barbell_reverse_curl',
    'zottman_curl': 'dumbbell_zottman_curl',
    'zottman_curls': 'dumbbell_zottman_curl',

    // ═══════════════════════════════════════════════════════════════════════
    // TRICEPS - Auto exercise IDs → GIF keys
    // ═══════════════════════════════════════════════════════════════════════
    'tricep_extension': 'dumbbell_lying_triceps_extension',
    'tricep_extensions': 'dumbbell_lying_triceps_extension',
    'overhead_tricep': 'dumbbell_standing_triceps_extension',
    'overhead_tricep_ext': 'dumbbell_standing_triceps_extension',
    'overhead_tricep_extension': 'dumbbell_standing_triceps_extension',
    'tricep_pushdown': 'cable_triceps_pushdown_v_bar_attachment',
    'tricep_pushdowns': 'cable_triceps_pushdown_v_bar_attachment',
    'cable_pushdown': 'cable_triceps_pushdown_v_bar_attachment',
    'rope_pushdown': 'cable_overhead_triceps_extension_rope_attachment',
    'rope_pushdowns': 'cable_overhead_triceps_extension_rope_attachment',
    'rope_tricep_extension': 'cable_overhead_triceps_extension_rope_attachment',
    'cable_tricep_extension': 'cable_high_pulley_overhead_tricep_extension',
    'skull_crusher': 'barbell_lying_close_grip_triceps_extension',
    'skull_crushers': 'barbell_lying_close_grip_triceps_extension',
    'tricep_dip': 'triceps_dip',
    'tricep_dips': 'triceps_dip',
    'bench_dip': 'weighted_bench_dip',
    'bench_dips': 'weighted_bench_dip',
    'dip': 'chest_dip',
    'dip_machine': 'lever_triceps_dip_plate_loaded',
    'weighted_dip': 'chest_dip',
    'ring_dip': 'chest_dip',
    'ring_dips': 'chest_dip',
    'tricep_dips_chair': 'triceps_dips_floor',
    'tricep_kickback': 'dumbbell_kickback',
    'tricep_kickbacks': 'dumbbell_kickback',

    // ═══════════════════════════════════════════════════════════════════════
    // WRIST - Auto exercise IDs → GIF keys
    // ═══════════════════════════════════════════════════════════════════════
    'wrist_curl': 'dumbbell_over_bench_one_arm_wrist_curl',
    'wrist_curls': 'dumbbell_over_bench_one_arm_wrist_curl',
    'reverse_wrist_curl': 'dumbbell_over_bench_one_arm_reverse_wrist_curl',

    // ═══════════════════════════════════════════════════════════════════════
    // CORE - Auto exercise IDs → GIF keys
    // ═══════════════════════════════════════════════════════════════════════
    'plank': 'front_plank',
    'planks': 'front_plank',
    'plank_hold': 'front_plank',
    'forearm_plank': 'front_plank',
    'high_plank': 'front_plank',
    'side_plank': 'side_plank_male',
    'side_planks': 'side_plank_male',
    'side_plank_left': 'side_plank_male',
    'side_plank_right': 'side_plank_male',
    'plank_jack': 'front_plank',
    'plank_jacks': 'front_plank',
    'plank_tap': 'front_plank',
    'plank_walk_out': 'front_plank',
    'plank_shoulder_tap': 'front_plank',
    'plank_shoulder_taps': 'front_plank',
    'crunch': 'crunch_floor_m',
    'crunches': 'crunch_floor_m',
    'sit_up': 'sit_up_ii',
    'sit_ups': 'sit_up_ii',
    'situp': 'sit_up_ii',
    'situps': 'sit_up_ii',
    'decline_sit_up': 'extra_decline_sit_up',
    'decline_situp': 'extra_decline_sit_up',
    'decline_weighted_sit_up': 'extra_decline_sit_up',
    'standing_oblique_crunch': 'dumbbell_side_bend',
    'cable_crunch': 'cable_kneeling_crunch',
    'cable_crunches': 'cable_kneeling_crunch',
    'leg_raise': 'lying_leg_raise',
    'leg_raises': 'lying_leg_raise',
    'hanging_leg_raise': 'hanging_leg_hip_raise',
    'hanging_leg_raises': 'hanging_leg_hip_raise',
    'russian_twist': 'russian_twist_with_medicine_ball',
    'russian_twists': 'russian_twist_with_medicine_ball',
    'russian_twist_weighted': 'russian_twist_with_medicine_ball',
    'mountain_climber': 'front_plank',
    'mountain_climbers': 'front_plank',
    'mountain_climber_crossover': 'front_plank',
    'bicycle_crunch': 'crunch_floor_m',
    'bicycle_crunches': 'crunch_floor_m',
    'flutter_kicks': 'flutter_kicks',
    'flutter_kick': 'flutter_kicks',
    'scissor_kick': 'flutter_kicks',
    'scissor_kicks': 'flutter_kicks',
    'dead_bug': 'front_plank',
    'dead_bugs': 'front_plank',
    'v_up': 'tuck_crunch',
    'v_ups': 'tuck_crunch',
    'oblique_crunch': 'dumbbell_side_bend',
    'oblique_crunches': 'dumbbell_side_bend',
    'bird_dog': 'front_plank',
    'hollow_body_hold': 'front_plank',
    'clamshells': 'lever_seated_hip_abduction',
    'l_sit': 'vertical_leg_raise_on_parallel_bars',
    'l_sits': 'vertical_leg_raise_on_parallel_bars',
    'superman': 'reverse_hyper_on_flat_bench',
    'supermans': 'reverse_hyper_on_flat_bench',
    'superman_hold': 'reverse_hyper_on_flat_bench',
    'superman_raises': 'reverse_hyper_on_flat_bench',
    'ab_wheel': 'front_plank',
    'ab_wheel_rollout': 'front_plank',
    'ab_wheel_kneeling': 'front_plank',
    'ab_wheel_standing': 'front_plank',

    // ═══════════════════════════════════════════════════════════════════════
    // ROTATION - Auto exercise IDs → GIF keys
    // ═══════════════════════════════════════════════════════════════════════
    'wood_chop': 'cable_standing_fly',
    'wood_chops': 'cable_standing_fly',
    'cable_wood_chop': 'cable_standing_fly',
    'medicine_ball_woodchop': 'cable_standing_fly',
    'dumbbell_woodchop': 'cable_standing_fly',
    'woodchop': 'cable_standing_fly',
    'woodchoppers': 'cable_standing_fly',
    'windmill': 'dumbbell_side_bend',
    'windmills': 'dumbbell_side_bend',
    'pallof_press': 'cable_horizontal_pallof_press',
    'pallof_press_kneeling': 'cable_horizontal_pallof_press',
    'pallof_press_standing': 'cable_horizontal_pallof_press',
    'pallof_press_split_stance': 'cable_horizontal_pallof_press',
    'landmine_rotation': 'barbell_standing_twist',
    'seated_twist': 'lever_seated_twist',

    // ═══════════════════════════════════════════════════════════════════════
    // CARDIO & PLYOMETRIC - Auto exercise IDs → GIF keys
    // ═══════════════════════════════════════════════════════════════════════
    'burpees': 'burpee',
    'modified_burpee': 'burpee',
    'burpee_tuck_jump': 'burpee',
    'burpee_sprawl': 'burpee',
    'sprawl': 'burpee',
    'sprawls': 'burpee',
    'jumping_jack': 'squat_m',
    'jumping_jacks': 'squat_m',
    'jump_rope': 'squat_m',
    'skipping': 'squat_m',
    'high_knee_run': 'squat_m',
    'high_knee': 'squat_m',
    'high_knees': 'squat_m',
    'high_knee_sprint': 'squat_m',
    'marching_in_place': 'squat_m',
    'running_in_place': 'squat_m',
    'knee_tap': 'squat_m',
    'a_skip': 'squat_m',
    'b_skip': 'squat_m',
    'step_touch': 'squat_m',
    'side_step': 'squat_m',
    'lateral_shuffle': 'squat_m',
    'butt_kick': 'lever_standing_rear_kick',
    'butt_kicks': 'lever_standing_rear_kick',
    'butt_kicker': 'lever_standing_rear_kick',
    'butt_kick_sprint': 'lever_standing_rear_kick',
    'jump_squat': 'squat_m',
    'jump_squats': 'squat_m',
    'squat_jump': 'squat_m',
    'squat_jumps': 'squat_m',
    'box_jump': 'squat_m',
    'box_jumps': 'squat_m',
    'tuck_jump': 'squat_m',
    'tuck_jumps': 'squat_m',
    'star_jump': 'squat_m',
    'star_jumps': 'squat_m',
    'jump_lunge': 'dumbbell_lunge',
    'jump_lunges': 'dumbbell_lunge',
    'jumping_lunge': 'dumbbell_lunge',
    'skater': 'dumbbell_lunge',
    'lateral_hop': 'dumbbell_lunge',
    'lateral_hops': 'dumbbell_lunge',
    'skater_hop': 'dumbbell_lunge',
    'skaters': 'dumbbell_lunge',
    'battle_ropes': 'burpee',
    'bear_crawl': 'front_plank',
    'bear_crawls': 'front_plank',
    'inchworm': 'front_plank',

    // ═══════════════════════════════════════════════════════════════════════
    // HOLDS & STRETCHES - Auto exercise IDs → GIF keys
    // ═══════════════════════════════════════════════════════════════════════
    'wall_sit': 'lever_chair_squat',
    'wall_sits': 'lever_chair_squat',
    'wall_squat': 'lever_chair_squat',
    'dead_hang': 'pull_up',
    'active_hang': 'pull_up',
    'hang': 'pull_up',
    '90_90_stretch': 'lever_seated_hip_abduction',
    'butterfly_stretch': 'lever_seated_hip_adduction',
    'cat_cow': 'front_plank',
    'chest_doorway_stretch': 'cable_standing_fly',
    'frog_stretch': 'lever_seated_hip_adduction',
    'hamstring_stretch': 'barbell_straight_leg_deadlift',
    'happy_baby': 'lying_leg_raise',
    'hip_flexor_stretch': 'lever_standing_hip_extension',
    'pigeon_pose': 'lever_seated_hip_abduction',
    'quad_stretch': 'lever_standing_hip_extension',

    // ═══════════════════════════════════════════════════════════════════════
    // BAND/RESISTANCE - Auto exercise IDs → GIF keys
    // ═══════════════════════════════════════════════════════════════════════
    'banded_row': 'dumbbell_bent_over_row',
    'banded_press': 'lever_chest_press',
    'banded_curl': 'dumbbell_biceps_curl',
    'banded_lateral_raise': 'dumbbell_lateral_raise',
  };

  /// Get the corrected exercise ID for video/GIF lookup.
  /// 
  /// CRITICAL: Checks GIF mapping FIRST. If the ID already exists
  /// as a valid GIF key, returns it untouched. This ensures manual
  /// mode exercises (whose IDs ARE GIF keys) always work.
  static String getOverriddenId(String exerciseId) {
    final normalized = exerciseId.toLowerCase().trim();
    
    // SAFETY CHECK: If this ID already exists in the GIF mapping,
    // return it as-is. Never override a valid GIF key.
    if (ExerciseGifMapping.exerciseGifs.containsKey(normalized)) {
      return normalized;
    }
    
    // Only apply overrides for IDs NOT in the GIF mapping
    return overrides[normalized] ?? normalized;
  }

  /// Check if we have an override for this ID
  static bool hasOverride(String exerciseId) {
    final normalized = exerciseId.toLowerCase().trim();
    // A valid GIF key doesn't need an override
    if (ExerciseGifMapping.exerciseGifs.containsKey(normalized)) {
      return true; // It resolves, even without an override
    }
    return overrides.containsKey(normalized);
  }

  /// Get all exercise IDs that map to a given video ID
  static List<String> getAliases(String videoId) {
    return overrides.entries
        .where((e) => e.value == videoId)
        .map((e) => e.key)
        .toList();
  }
}
